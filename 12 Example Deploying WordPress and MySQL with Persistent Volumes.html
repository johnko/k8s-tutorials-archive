<!DOCTYPE html>
<html id="docs" class="flip-nav" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	
<script type="text/javascript" async="" src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/analytics.js"></script><script id="pd-rating-js" src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/rating.js"></script><script async="" src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>
<meta charset="utf-8">
<title>Example: Deploying WordPress and MySQL with Persistent Volumes - Kubernetes</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="https://kubernetes.io/images/favicon.png">

<style class="anchorjs"></style><link rel="stylesheet" href="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/base_fonts.css">
<link rel="stylesheet" media="screen" href="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/styles.css" integrity="sha256-qEj5wTH/mS3iXIbsOi/JROhtSGZrzV8GD4gVdqBLN1Q=">
<link rel="stylesheet" href="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/jquery-ui.css">
<link rel="stylesheet" href="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/sweetalert.css">
<link rel="stylesheet" href="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/callouts.css">
<link rel="stylesheet" href="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/tags.css">



<meta name="description" content="">
<meta property="og:description" content="">
<meta property="twitter:description" content="">
<meta property="og:url" content="https://kubernetes.io/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/">
<meta name="og:title" content="Example: Deploying WordPress and MySQL with Persistent Volumes">
<meta name="twitter:title" content="Example: Deploying WordPress and MySQL with Persistent Volumes">

<meta name="twitter:image:alt" content="Kubernetes">

<script src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/anchor-4.js"></script>
<script src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/jquery-3.js"></script>
<script src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/jquery-ui-1.js"></script>
<script src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/bootstrap-3.js"></script>
<script src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/sweetalert-1.js"></script>
<script src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/script.js"></script>
<script src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/tags.js"></script>


	</head>
	<body>
		<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="https://kubernetes.io/" class="logo"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            
            
            <li><a href="https://kubernetes.io/docs/home/" class="active">Documentation</a></li>
            
            <li><a href="https://kubernetes.io/blog/">Blog</a></li>
            
            <li><a href="https://kubernetes.io/partners/">Partners</a></li>
            
            <li><a href="https://kubernetes.io/community/">Community</a></li>
            
            <li><a href="https://kubernetes.io/case-studies/">Case Studies</a></li>
            
            
            
             <li>
                <a href="#">
                    English <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io/cn/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/">Chinese</a></li>
                
                </ul>
            </li>
         
            <li>
                <a href="#">
                    v1.11 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io/">v1.11</a></li>
                
                    <li><a href="https://v1-10.docs.kubernetes.io/">v1.10</a></li>
                
                    <li><a href="https://v1-9.docs.kubernetes.io/">v1.9</a></li>
                
                    <li><a href="https://v1-8.docs.kubernetes.io/">v1.8</a></li>
                
                    <li><a href="https://v1-7.docs.kubernetes.io/">v1.7</a></li>
                
                </ul>
            </li>
        </ul>
        
        <a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/" class="button" id="tryKubernetes" data-auto-burger-exclude="">Learn Kubernetes Basics</a>
        

        <button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude=""><div></div></button>
    </div>

    <nav id="mainNav">
        <main data-auto-burger="primary">
         
           <div class="nav-box">
            <h3><a href="https://kubernetes.io/docs/tutorials/hello-minikube/">Get Started</a></h3>
           <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="https://kubernetes.io/docs/home/">Documentation</a></h3>
           <p>Learn how to use Kubernetes with the use of walkthroughs, samples, and reference documentation. You can even <a href="https://kubernetes.io/editdocs/" data-auto-burger-exclude="">help contribute to the docs</a>!</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="https://kubernetes.io/docs/community/">Community</a></h3>
           <p>If you need help, you can connect with other Kubernetes 
users and the Kubernetes authors, attend community events, and watch 
video presentations from around the web.</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="https://kubernetes.io/blog/">Blog</a></h3>
           <p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>

        </div>
         
        </main>
        <main data-auto-burger="primary">
        <div class="left">
            <h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
            <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude="">View On Github</a>
        </div>

        <div class="right">
            <h5 class="github-invite">Explore the community</h5>
            <div class="social">
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack Slack</span></a>
                <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io/" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
        </div>
        <div class="clear" style="clear: both"></div>
        </main>
    </nav>
</header>

		
		
		<section id="hero" class="light-text no-sub">
			













<h1>Tutorials</h1>
<h5></h5>






<div id="vendorStrip" class="light-text">
	<ul>
		
		
		<li><a href="https://kubernetes.io/docs/home/">DOCUMENTATION</a></li>
		
		
		<li><a href="https://kubernetes.io/docs/setup/">SETUP</a></li>
		
		
		<li><a href="https://kubernetes.io/docs/concepts/">CONCEPTS</a></li>
		
		
		<li><a href="https://kubernetes.io/docs/tasks/">TASKS</a></li>
		
		
		<li><a href="https://kubernetes.io/docs/tutorials/" class="YAH">TUTORIALS</a></li>
		
		
		<li><a href="https://kubernetes.io/docs/reference/">REFERENCE</a></li>
		
		
		<li><a href="https://kubernetes.io/docs/contribute/">CONTRIBUTE</a></li>
		
	</ul>
	<form id="searchBox" action="/docs/search/">
		<input id="search" name="q" placeholder="Search" aria-label="Search" type="text">
	</form>
</div>

		</section>
		
		

		<section id="encyclopedia">
			
<div id="docsToc">
     <div class="pi-accordion"><div class="container">
    	
        
        
        
        
        
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
                          
                          
                 
             
         
             
         
             
         
             
         
         
        
        <a class="item" data-title="Tutorials" href="https://kubernetes.io/docs/tutorials/"><div class="title">Tutorials</div></a>

	
	
		
		
<a class="item" data-title="Hello Minikube" href="https://kubernetes.io/docs/tutorials/hello-minikube/"><div class="title">Hello Minikube</div></a>

		
	
		
		
	<div class="item" data-title="Learn Kubernetes Basics"><div class="title">Learn Kubernetes Basics</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
		<a class="item" data-title="Learn Kubernetes Basics" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/"><div class="title">Learn Kubernetes Basics</div></a>
		
		
	
	
		
		
	<div class="item" data-title="Create a Cluster"><div class="title">Create a Cluster</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Using Minikube to Create a Cluster" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/create-cluster/cluster-intro/"><div class="title">Using Minikube to Create a Cluster</div></a>

		
	
		
		
<a class="item" data-title="Interactive Tutorial - Creating a Cluster" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/create-cluster/cluster-interactive/"><div class="title">Interactive Tutorial - Creating a Cluster</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Deploy an App"><div class="title">Deploy an App</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Using kubectl to Create a Deployment" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/deploy-app/deploy-intro/"><div class="title">Using kubectl to Create a Deployment</div></a>

		
	
		
		
<a class="item" data-title="Interactive Tutorial - Deploying an App" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/deploy-app/deploy-interactive/"><div class="title">Interactive Tutorial - Deploying an App</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Explore Your App"><div class="title">Explore Your App</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Viewing Pods and Nodes" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/explore/explore-intro/"><div class="title">Viewing Pods and Nodes</div></a>

		
	
		
		
<a class="item" data-title="Interactive Tutorial - Exploring Your App" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/explore/explore-interactive/"><div class="title">Interactive Tutorial - Exploring Your App</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Expose Your App Publicly"><div class="title">Expose Your App Publicly</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Using a Service to Expose Your App" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/expose/expose-intro/"><div class="title">Using a Service to Expose Your App</div></a>

		
	
		
		
<a class="item" data-title="Interactive Tutorial - Exposing Your App" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/expose/expose-interactive/"><div class="title">Interactive Tutorial - Exposing Your App</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Scale Your App"><div class="title">Scale Your App</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Running Multiple Instances of Your App" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/scale/scale-intro/"><div class="title">Running Multiple Instances of Your App</div></a>

		
	
		
		
<a class="item" data-title="Interactive Tutorial - Scaling Your App" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/scale/scale-interactive/"><div class="title">Interactive Tutorial - Scaling Your App</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Update Your App"><div class="title">Update Your App</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Performing a Rolling Update" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/update/update-intro/"><div class="title">Performing a Rolling Update</div></a>

		
	
		
		
<a class="item" data-title="Interactive Tutorial - Updating Your App" href="https://kubernetes.io/docs/tutorials/kubernetes-basics/update/update-interactive/"><div class="title">Interactive Tutorial - Updating Your App</div></a>

		
	

		</div>
	</div></div></div>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Online Training Courses"><div class="title">Online Training Courses</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Overview of Kubernetes Online Training" href="https://kubernetes.io/docs/tutorials/online-training/overview/"><div class="title">Overview of Kubernetes Online Training</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Configuration"><div class="title">Configuration</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Configuring Redis using a ConfigMap" href="https://kubernetes.io/docs/tutorials/configuration/configure-redis-using-configmap/"><div class="title">Configuring Redis using a ConfigMap</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Stateless Applications"><div class="title">Stateless Applications</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Exposing an External IP Address to Access an Application in a Cluster" href="https://kubernetes.io/docs/tutorials/stateless-application/expose-external-ip-address/"><div class="title">Exposing an External IP Address to Access an Application in a Cluster</div></a>

		
	
		
		
<a class="item" data-title="Example: Deploying PHP Guestbook application with Redis" href="https://kubernetes.io/docs/tutorials/stateless-application/guestbook/"><div class="title">Example: Deploying PHP Guestbook application with Redis</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item on" data-title="Stateful Applications"><div class="title">Stateful Applications</div><div class="wrapper" style="height: auto;"><div class="content" style="opacity: 1;">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="StatefulSet Basics" href="https://kubernetes.io/docs/tutorials/stateful-application/basic-stateful-set/"><div class="title">StatefulSet Basics</div></a>

		
	
		
		
<a class="item yah" data-title="Example: Deploying WordPress and MySQL with Persistent Volumes" href="https://kubernetes.io/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/"><div class="title">Example: Deploying WordPress and MySQL with Persistent Volumes</div></a>

		
	
		
		
<a class="item" data-title="Example: Deploying Cassandra with Stateful Sets" href="https://kubernetes.io/docs/tutorials/stateful-application/cassandra/"><div class="title">Example: Deploying Cassandra with Stateful Sets</div></a>

		
	
		
		
<a class="item" data-title="Running ZooKeeper, A Distributed System Coordinator" href="https://kubernetes.io/docs/tutorials/stateful-application/zookeeper/"><div class="title">Running ZooKeeper, A Distributed System Coordinator</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Clusters"><div class="title">Clusters</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="AppArmor" href="https://kubernetes.io/docs/tutorials/clusters/apparmor/"><div class="title">AppArmor</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
	<div class="item" data-title="Services"><div class="title">Services</div><div class="wrapper" style="height: 0px;"><div class="content">
		<div class="container">
		
		
	
	
		
		
<a class="item" data-title="Using Source IP" href="https://kubernetes.io/docs/tutorials/services/source-ip/"><div class="title">Using Source IP</div></a>

		
	

		</div>
	</div></div></div>

		
	
		
		
<a class="item" data-title="Kubernetes 101" href="https://kubernetes.io/docs/tutorials/k8s101/"><div class="title">Kubernetes 101</div></a>

		
	
		
		
<a class="item" data-title="Kubernetes 201" href="https://kubernetes.io/docs/tutorials/k8s201/"><div class="title">Kubernetes 201</div></a>

		
	






     </div></div> 
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
</div> 

			<div id="docsContent">
				
<p><a href="https://github.com/kubernetes/website/edit/master/content/en/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume.md" id="editPageButton" target="_blank">Edit This Page</a></p>

<h1>Example: Deploying WordPress and MySQL with Persistent Volumes</h1>



<p>This tutorial shows you how to deploy a WordPress site and a MySQL 
database using Minikube. Both applications use PersistentVolumes and 
PersistentVolumeClaims to store data.</p>

<p>A <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">PersistentVolume</a>
 (PV) is a piece of storage in the cluster that has been manually 
provisioned by an administrator, or dynamically provisioned by 
Kubernetes using a <a href="https://kubernetes.io/docs/concepts/storage/storage-classes">StorageClass</a>.  A <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">PersistentVolumeClaim</a>
 (PVC) is a request for storage by a user that can be fulfilled by a PV.
 PersistentVolumes and PersistentVolumeClaims are independent from Pod 
lifecycles and preserve data through restarting, rescheduling, and even 
deleting Pods.</p>

<blockquote class="warning">
  <div><strong>Warning:</strong>  This deployment is not suitable for production use cases, as it uses single instance WordPress and MySQL Pods. Consider using <a href="https://github.com/kubernetes/charts/tree/master/stable/wordpress" target="_blank">WordPress Helm Chart</a> to deploy WordPress in production.</div>
</blockquote>

<blockquote class="note">
  <div><strong>Note:</strong> The files provided in this tutorial are 
using GA Deployment APIs and are specific to kubernetes version 1.9 and 
later. If you wish to use this tutorial with an earlier version of 
Kubernetes, please update the API version appropriately, or reference 
earlier versions of this tutorial.</div>
</blockquote>












<ul id="markdown-toc">










<li><a href="#objectives">Objectives</a></li>












<li><a href="#before-you-begin">Before you begin</a></li>












<li><a href="#create-persistentvolumeclaims-and-persistentvolumes">Create PersistentVolumeClaims and PersistentVolumes</a></li>




<li><a href="#create-a-secret-for-mysql-password">Create a Secret for MySQL Password</a></li>




<li><a href="#deploy-mysql">Deploy MySQL</a></li>




<li><a href="#deploy-wordpress">Deploy WordPress</a></li>




















<li><a href="#cleaning-up">Cleaning up</a></li>












<li><a href="#what-s-next">What's next</a></li>



</ul>



<h2 id="objectives">Objectives<a class="anchorjs-link " href="#objectives" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<ul>
<li>Create PersistentVolumeClaims and PersistentVolumes</li>
<li>Create a Secret</li>
<li>Deploy MySQL</li>
<li>Deploy WordPress</li>
<li>Clean up</li>
</ul>





<h2 id="before-you-begin">Before you begin<a class="anchorjs-link " href="#before-you-begin" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>You need to have a Kubernetes cluster, and the kubectl command-line tool must
be configured to communicate with your cluster. If you do not already have a
cluster, you can create one by using
<a href="https://kubernetes.io/docs/getting-started-guides/minikube">Minikube</a>,
or you can use one of these Kubernetes playgrounds:</p>

<ul>
<li><a href="https://www.katacoda.com/courses/kubernetes/playground" target="_blank">Katacoda</a></li>
<li><a href="http://labs.play-with-k8s.com/" target="_blank">Play with Kubernetes</a></li>
</ul>
 

<p>To check the version, enter <code>kubectl version</code>.</p>

<p>Download the following configuration files:</p>

<ol>
<li><p><a href="https://kubernetes.io/examples/application/wordpress/mysql-deployment.yaml">mysql-deployment.yaml</a></p></li>

<li><p><a href="https://kubernetes.io/examples/application/wordpress/wordpress-deployment.yaml">wordpress-deployment.yaml</a></p></li>
</ol>




<h2 id="create-persistentvolumeclaims-and-persistentvolumes">Create PersistentVolumeClaims and PersistentVolumes<a class="anchorjs-link " href="#create-persistentvolumeclaims-and-persistentvolumes" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<p>MySQL and Wordpress each require a PersistentVolume to store data.  
Their PersistentVolumeClaims will be created at the deployment step.</p>

<p>Many cluster environments have a default StorageClass installed.  
When a StorageClass is not specified in the PersistentVolumeClaim, the 
cluster’s default StorageClass is used instead.</p>

<p>When a PersistentVolumeClaim is created, a PersistentVolume is dynamically provisioned based on the StorageClass configuration.</p>

<blockquote class="warning">
  <div><strong>Warning:</strong> In local clusters, the default StorageClass uses the <code>hostPath</code> provisioner.  <code>hostPath</code> volumes are only suitable for development and testing. With <code>hostPath</code> volumes, your data lives in <code>/tmp</code>
 on the node the Pod is scheduled onto and does not move between nodes. 
If a Pod dies and gets scheduled to another node in the cluster, or the 
node is rebooted, the data is lost.</div>
</blockquote>

<blockquote class="note">
  <div><strong>Note:</strong> If you are bringing up a cluster that needs to use the <code>hostPath</code> provisioner, the <code>--enable-hostpath-provisioner</code> flag must be set in the <code>controller-manager</code> component.</div>
</blockquote>

<blockquote class="note">
  <div><strong>Note:</strong> If you have a Kubernetes cluster running on Google Kubernetes Engine, please follow <a href="https://cloud.google.com/kubernetes-engine/docs/tutorials/persistent-disk" target="_blank">this guide</a>.</div>
</blockquote>

<h2 id="create-a-secret-for-mysql-password">Create a Secret for MySQL Password<a class="anchorjs-link " href="#create-a-secret-for-mysql-password" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<p>A <a href="https://kubernetes.io/docs/concepts/configuration/secret/">Secret</a>
 is an object that stores a piece of sensitive data like a password or 
key. The manifest files are already configured to use a Secret, but you 
have to create your own Secret.</p>

<ol>
<li><p>Create the Secret object from the following command. You will need to replace
<code>YOUR_PASSWORD</code> with the password you want to use.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl create secret generic mysql-pass --from-literal<span style="color:#666">=</span><span style="color:#b8860b">password</span><span style="color:#666">=</span>YOUR_PASSWORD</code></pre></div></li>

<li><p>Verify that the Secret exists by running the following command:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl get secrets</code></pre></div>
<p>The response should be like this:</p>

<pre><code>  NAME                  TYPE                    DATA      AGE
  mysql-pass            Opaque                  1         42s
</code></pre></li>
</ol>

<blockquote class="note">
  <div><strong>Note:</strong> To protect the Secret from exposure, neither <code>get</code> nor <code>describe</code> show its contents.</div>
</blockquote>

<h2 id="deploy-mysql">Deploy MySQL<a class="anchorjs-link " href="#deploy-mysql" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<p>The following manifest describes a single-instance MySQL Deployment. 
The MySQL container mounts the PersistentVolume at /var/lib/mysql. The <code>MYSQL_ROOT_PASSWORD</code> environment variable sets the database password from the Secret.</p>

<table class="includecode" id="application-wordpress-mysql-deployment-yaml">
    <thead>
        <tr>
            <th>
                <a href="https://raw.githubusercontent.com/kubernetes/website/master/content/en/examples/application/wordpress/mysql-deployment.yaml" download="application/wordpress/mysql-deployment.yaml">
                    <code>application/wordpress/mysql-deployment.yaml</code>
                </a>
                <img src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/copycode.svg" style="max-height:24px" onclick="copyCode('application-wordpress-mysql-deployment-yaml')" title="Copy application/wordpress/mysql-deployment.yaml to clipboard">
            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">apiVersion:<span style="color:#bbb"> </span>v1<span style="color:#bbb">
</span><span style="color:#bbb"></span>kind:<span style="color:#bbb"> </span>Service<span style="color:#bbb">
</span><span style="color:#bbb"></span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>name:<span style="color:#bbb"> </span>wordpress-mysql<span style="color:#bbb">
</span><span style="color:#bbb">  </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb"></span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>ports:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>-<span style="color:#bbb"> </span>port:<span style="color:#bbb"> </span><span style="color:#666">3306</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span>selector:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">    </span>tier:<span style="color:#bbb"> </span>mysql<span style="color:#bbb">
</span><span style="color:#bbb">  </span>clusterIP:<span style="color:#bbb"> </span>None<span style="color:#bbb">
</span><span style="color:#bbb"></span>---<span style="color:#bbb">
</span><span style="color:#bbb"></span>apiVersion:<span style="color:#bbb"> </span>v1<span style="color:#bbb">
</span><span style="color:#bbb"></span>kind:<span style="color:#bbb"> </span>PersistentVolumeClaim<span style="color:#bbb">
</span><span style="color:#bbb"></span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>name:<span style="color:#bbb"> </span>mysql-pv-claim<span style="color:#bbb">
</span><span style="color:#bbb">  </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb"></span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>accessModes:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>-<span style="color:#bbb"> </span>ReadWriteOnce<span style="color:#bbb">
</span><span style="color:#bbb">  </span>resources:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>requests:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>storage:<span style="color:#bbb"> </span>20Gi<span style="color:#bbb">
</span><span style="color:#bbb"></span>---<span style="color:#bbb">
</span><span style="color:#bbb"></span>apiVersion:<span style="color:#bbb"> </span>apps/v1<span style="color:#bbb"> </span><span style="color:#080;font-style:italic"># for versions before 1.9.0 use apps/v1beta2</span><span style="color:#bbb">
</span><span style="color:#bbb"></span>kind:<span style="color:#bbb"> </span>Deployment<span style="color:#bbb">
</span><span style="color:#bbb"></span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>name:<span style="color:#bbb"> </span>wordpress-mysql<span style="color:#bbb">
</span><span style="color:#bbb">  </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb"></span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>selector:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>matchLabels:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">      </span>tier:<span style="color:#bbb"> </span>mysql<span style="color:#bbb">
</span><span style="color:#bbb">  </span>strategy:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>type:<span style="color:#bbb"> </span>Recreate<span style="color:#bbb">
</span><span style="color:#bbb">  </span>template:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">        </span>tier:<span style="color:#bbb"> </span>mysql<span style="color:#bbb">
</span><span style="color:#bbb">    </span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>containers:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>-<span style="color:#bbb"> </span>image:<span style="color:#bbb"> </span>mysql:<span style="color:#666">5.6</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>name:<span style="color:#bbb"> </span>mysql<span style="color:#bbb">
</span><span style="color:#bbb">        </span>env:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>-<span style="color:#bbb"> </span>name:<span style="color:#bbb"> </span>MYSQL_ROOT_PASSWORD<span style="color:#bbb">
</span><span style="color:#bbb">          </span>valueFrom:<span style="color:#bbb">
</span><span style="color:#bbb">            </span>secretKeyRef:<span style="color:#bbb">
</span><span style="color:#bbb">              </span>name:<span style="color:#bbb"> </span>mysql-pass<span style="color:#bbb">
</span><span style="color:#bbb">              </span>key:<span style="color:#bbb"> </span>password<span style="color:#bbb">
</span><span style="color:#bbb">        </span>ports:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>-<span style="color:#bbb"> </span>containerPort:<span style="color:#bbb"> </span><span style="color:#666">3306</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span>name:<span style="color:#bbb"> </span>mysql<span style="color:#bbb">
</span><span style="color:#bbb">        </span>volumeMounts:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>-<span style="color:#bbb"> </span>name:<span style="color:#bbb"> </span>mysql-persistent-storage<span style="color:#bbb">
</span><span style="color:#bbb">          </span>mountPath:<span style="color:#bbb"> </span>/var/lib/mysql<span style="color:#bbb">
</span><span style="color:#bbb">      </span>volumes:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>-<span style="color:#bbb"> </span>name:<span style="color:#bbb"> </span>mysql-persistent-storage<span style="color:#bbb">
</span><span style="color:#bbb">        </span>persistentVolumeClaim:<span style="color:#bbb">
</span><span style="color:#bbb">          </span>claimName:<span style="color:#bbb"> </span>mysql-pv-claim<span style="color:#bbb">
</span><span style="color:#bbb"></span></code></pre></div>  </td>
        </tr>
    </tbody>
</table>

<ol>
<li><p>Deploy MySQL from the <code>mysql-deployment.yaml</code> file:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl create -f https://k8s.io/examples/application/wordpress/mysql-deployment.yaml</code></pre></div></li>

<li><p>Verify that a PersistentVolume got dynamically provisioned. Note that it can
It can take up to a few minutes for the PVs to be provisioned and bound.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl get pvc</code></pre></div>
<p>The response should be like this:</p>

<pre><code>  NAME             STATUS    VOLUME                                     CAPACITY ACCESS MODES   STORAGECLASS   AGE
  mysql-pv-claim   Bound     pvc-91e44fbf-d477-11e7-ac6a-42010a800002   20Gi     RWO            standard       29s
</code></pre></li>

<li><p>Verify that the Pod is running by running the following command:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl get pods</code></pre></div>
<p></p><blockquote class="note">
<div><strong>Note:</strong> It can take up to a few minutes for the Pod’s Status to be <code>RUNNING</code>.</div>
</blockquote><p></p>

<p>The response should be like this:</p>

<pre><code>  NAME                               READY     STATUS    RESTARTS   AGE
  wordpress-mysql-1894417608-x5dzt   1/1       Running   0          40s
</code></pre></li>
</ol>

<h2 id="deploy-wordpress">Deploy WordPress<a class="anchorjs-link " href="#deploy-wordpress" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<p>The following manifest describes a single-instance WordPress 
Deployment and Service. It uses many of the same features like a PVC for
 persistent storage and a Secret for the password. But it also uses a 
different setting: <code>type: LoadBalancer</code>. This setting exposes WordPress to traffic from outside of the cluster.</p>

<table class="includecode" id="application-wordpress-wordpress-deployment-yaml">
    <thead>
        <tr>
            <th>
                <a href="https://raw.githubusercontent.com/kubernetes/website/master/content/en/examples/application/wordpress/wordpress-deployment.yaml" download="application/wordpress/wordpress-deployment.yaml">
                    <code>application/wordpress/wordpress-deployment.yaml</code>
                </a>
                <img src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/copycode.svg" style="max-height:24px" onclick="copyCode('application-wordpress-wordpress-deployment-yaml')" title="Copy application/wordpress/wordpress-deployment.yaml to clipboard">
            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">apiVersion:<span style="color:#bbb"> </span>v1<span style="color:#bbb">
</span><span style="color:#bbb"></span>kind:<span style="color:#bbb"> </span>Service<span style="color:#bbb">
</span><span style="color:#bbb"></span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>name:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">  </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb"></span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>ports:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>-<span style="color:#bbb"> </span>port:<span style="color:#bbb"> </span><span style="color:#666">80</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span>selector:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">    </span>tier:<span style="color:#bbb"> </span>frontend<span style="color:#bbb">
</span><span style="color:#bbb">  </span>type:<span style="color:#bbb"> </span>LoadBalancer<span style="color:#bbb">
</span><span style="color:#bbb"></span>---<span style="color:#bbb">
</span><span style="color:#bbb"></span>apiVersion:<span style="color:#bbb"> </span>v1<span style="color:#bbb">
</span><span style="color:#bbb"></span>kind:<span style="color:#bbb"> </span>PersistentVolumeClaim<span style="color:#bbb">
</span><span style="color:#bbb"></span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>name:<span style="color:#bbb"> </span>wp-pv-claim<span style="color:#bbb">
</span><span style="color:#bbb">  </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb"></span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>accessModes:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>-<span style="color:#bbb"> </span>ReadWriteOnce<span style="color:#bbb">
</span><span style="color:#bbb">  </span>resources:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>requests:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>storage:<span style="color:#bbb"> </span>20Gi<span style="color:#bbb">
</span><span style="color:#bbb"></span>---<span style="color:#bbb">
</span><span style="color:#bbb"></span>apiVersion:<span style="color:#bbb"> </span>apps/v1<span style="color:#bbb"> </span><span style="color:#080;font-style:italic"># for versions before 1.9.0 use apps/v1beta2</span><span style="color:#bbb">
</span><span style="color:#bbb"></span>kind:<span style="color:#bbb"> </span>Deployment<span style="color:#bbb">
</span><span style="color:#bbb"></span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>name:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">  </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb"></span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>selector:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>matchLabels:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">      </span>tier:<span style="color:#bbb"> </span>frontend<span style="color:#bbb">
</span><span style="color:#bbb">  </span>strategy:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>type:<span style="color:#bbb"> </span>Recreate<span style="color:#bbb">
</span><span style="color:#bbb">  </span>template:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>metadata:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>labels:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>app:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">        </span>tier:<span style="color:#bbb"> </span>frontend<span style="color:#bbb">
</span><span style="color:#bbb">    </span>spec:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>containers:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>-<span style="color:#bbb"> </span>image:<span style="color:#bbb"> </span>wordpress:<span style="color:#666">4.8</span>-apache<span style="color:#bbb">
</span><span style="color:#bbb">        </span>name:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">        </span>env:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>-<span style="color:#bbb"> </span>name:<span style="color:#bbb"> </span>WORDPRESS_DB_HOST<span style="color:#bbb">
</span><span style="color:#bbb">          </span>value:<span style="color:#bbb"> </span>wordpress-mysql<span style="color:#bbb">
</span><span style="color:#bbb">        </span>-<span style="color:#bbb"> </span>name:<span style="color:#bbb"> </span>WORDPRESS_DB_PASSWORD<span style="color:#bbb">
</span><span style="color:#bbb">          </span>valueFrom:<span style="color:#bbb">
</span><span style="color:#bbb">            </span>secretKeyRef:<span style="color:#bbb">
</span><span style="color:#bbb">              </span>name:<span style="color:#bbb"> </span>mysql-pass<span style="color:#bbb">
</span><span style="color:#bbb">              </span>key:<span style="color:#bbb"> </span>password<span style="color:#bbb">
</span><span style="color:#bbb">        </span>ports:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>-<span style="color:#bbb"> </span>containerPort:<span style="color:#bbb"> </span><span style="color:#666">80</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span>name:<span style="color:#bbb"> </span>wordpress<span style="color:#bbb">
</span><span style="color:#bbb">        </span>volumeMounts:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>-<span style="color:#bbb"> </span>name:<span style="color:#bbb"> </span>wordpress-persistent-storage<span style="color:#bbb">
</span><span style="color:#bbb">          </span>mountPath:<span style="color:#bbb"> </span>/var/www/html<span style="color:#bbb">
</span><span style="color:#bbb">      </span>volumes:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>-<span style="color:#bbb"> </span>name:<span style="color:#bbb"> </span>wordpress-persistent-storage<span style="color:#bbb">
</span><span style="color:#bbb">        </span>persistentVolumeClaim:<span style="color:#bbb">
</span><span style="color:#bbb">          </span>claimName:<span style="color:#bbb"> </span>wp-pv-claim<span style="color:#bbb">
</span><span style="color:#bbb"></span></code></pre></div>  </td>
        </tr>
    </tbody>
</table>

<ol>
<li><p>Create a WordPress Service and Deployment from the <code>wordpress-deployment.yaml</code> file:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl create -f https://k8s.io/examples/application/wordpress/wordpress-deployment.yaml</code></pre></div></li>

<li><p>Verify that a PersistentVolume got dynamically provisioned:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl get pvc</code></pre></div>
<p></p><blockquote class="note">
<div><strong>Note:</strong> It can take up to a few minutes for the PVs to be provisioned and bound.</div>
</blockquote><p></p>

<p>The response should be like this:</p>

<pre><code>  NAME             STATUS    VOLUME                                     CAPACITY ACCESS MODES   STORAGECLASS   AGE
  wp-pv-claim      Bound     pvc-e69d834d-d477-11e7-ac6a-42010a800002   20Gi     RWO            standard       7s
</code></pre></li>

<li><p>Verify that the Service is running by running the following command:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl get services wordpress</code></pre></div>
<p>The response should be like this:</p>

<pre><code>  NAME        TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)        AGE
  wordpress   ClusterIP   10.0.0.89    &lt;pending&gt;     80:32406/TCP   4m
</code></pre>

<p></p><blockquote class="note">
<div><strong>Note:</strong> Minikube can only expose Services through <code>NodePort</code>. The EXTERNAL-IP is always pending.</div>
</blockquote><p></p></li>

<li><p>Run the following command to get the IP Address for the WordPress Service:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  minikube service wordpress --url</code></pre></div>
<p>The response should be like this:</p>

<pre><code>  http://1.2.3.4:32406
</code></pre></li>

<li><p>Copy the IP address, and load the page in your browser to view your site.</p></li>
</ol>

<p>You should see the WordPress set up page similar to the following screenshot.</p>

<p><img src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/WordPress.png" alt="wordpress-init"></p>

<blockquote class="warning">
  <div><strong>Warning:</strong> Do not leave your WordPress 
installation on this page. If another user finds it, they can set up a 
website on your instance and use it to serve malicious content. <br><br>Either install WordPress by creating a username and password or delete your instance.</div>
</blockquote>


















<h2 id="cleaning-up">Cleaning up<a class="anchorjs-link " href="#cleaning-up" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<ol>
<li><p>Run the following command to delete your Secret:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl delete secret mysql-pass</code></pre></div></li>

<li><p>Run the following commands to delete all Deployments and Services:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl delete deployment -l <span style="color:#b8860b">app</span><span style="color:#666">=</span>wordpress
  kubectl delete service -l <span style="color:#b8860b">app</span><span style="color:#666">=</span>wordpress</code></pre></div></li>

<li><p>Run the following commands to delete the PersistentVolumeClaims. 
 The dynamically provisioned PersistentVolumes will be automatically 
deleted.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  kubectl delete pvc -l <span style="color:#b8860b">app</span><span style="color:#666">=</span>wordpress</code></pre></div></li>
</ol>





<h2 id="what-s-next">What's next<a class="anchorjs-link " href="#what-s-next" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em/1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<ul>
<li>Learn more about <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-application-introspection/">Introspection and Debugging</a></li>
<li>Learn more about <a href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/">Jobs</a></li>
<li>Learn more about <a href="https://kubernetes.io/docs/tasks/access-application-cluster/port-forward-access-application-cluster/">Port Forwarding</a></li>
<li>Learn how to <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/get-shell-running-container/">Get a Shell to a Container</a></li>
</ul>







			</div>
		</section>
    <div id="pre-footer"> 
      <div class="issue-button-container">
        <p><a href=""><img src="12%20Example%20Deploying%20WordPress%20and%20MySQL%20with%20Persistent%20Volumes_files/mysql-wordpress-persistent-volume.gif" alt="Analytics"></a></p>
        
        
        <script type="text/javascript">
        PDRTJS_settings_8345992 = {
        "id" : "8345992",
        "unique_id" : "\/docs\/tutorials\/stateful-application\/mysql-wordpress-persistent-volume\/",
        "title" : "Example: Deploying WordPress and MySQL with Persistent Volumes",
        "permalink" : "https:\/\/kubernetes.io\/docs\/tutorials\/stateful-application\/mysql-wordpress-persistent-volume\/"
        };
        (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
        </script>
        <a href="" onclick="window.open('https://github.com/kubernetes/website/issues/new?title=Issue%20with%20' +
        'k8s.io'+window.location.pathname)" class="button issue">Create an Issue</a>
        
        
        
        <a href="https://kubernetes.io/docs/editdocs#docs/tutorials/stateful-application/mysql-wordpress-persistent-volume.md" class="button issue">Edit This Page</a>
        
      </div>
      
        
      <div id="lastedit" class="lastedit issue-button-container">
        Page last modified on August 17, 2018 at 7:03 AM PST by  <a href="https://github.com/kubernetes/website/commit/65dfe582737bbdd71b965f4a8222db13f88e5b2c/">fix the command output (#9862)</a> (<a href="https://github.com/kubernetes/website/commits/master/content/en/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume.md">Page History</a>)
      </div>
        
      
    </div>
		<footer>
    <main class="light-text">
        <nav>
            
            
            
            <a href="https://kubernetes.io/docs/home/">Documentation</a>
            
            <a href="https://kubernetes.io/blog/">Blog</a>
            
            <a href="https://kubernetes.io/partners/">Partners</a>
            
            <a href="https://kubernetes.io/community/">Community</a>
            
            <a href="https://kubernetes.io/case-studies/">Case Studies</a>
            
        </nav>
        <div class="social">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io/" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
            <div>
                
                <a href="https://git.k8s.io/community/contributors/guide" class="button">Contribute</a>
            </div>
        </div>
        <div id="miceType" class="center">
            © 2018 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a>
        </div>
        <div id="miceType" class="center">
            Copyright © 2018 The Linux Foundation ®. All rights 
reserved. The Linux Foundation has registered trademarks and uses 
trademarks. For a list of trademarks of The Linux Foundation, please see
 our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">Trademark Usage page</a>
        </div>
        <div id="miceType" class="center">
            ICP license: 京ICP备17074266号-3
        </div>
    </main>
</footer>

		<button class="flyout-button" onclick="kub.toggleToc()"></button>

<script>

(function () {
    window.addEventListener('DOMContentLoaded', init)

        
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
        if (!toc) return
            var container = toc.querySelector('.container')

                
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>



    <script language="application/javascript">
      
      (function addHeadingLinks(){
        var article = document.getElementById('docsContent');
        var headings = article.querySelectorAll('h1, h2, h3, h4, h5, h6');
        headings.forEach(function(heading){
          if(heading.id){
            var a = document.createElement('a');
            a.innerHTML = heading.innerHTML;
            a.href = '#'+heading.id;
            a.classList.add('inpage_heading');
            heading.innerHTML = '';
            heading.appendChild(a);
          }
        });
      })();
    </script>
	

<div class="pi-pushmenu" id="primary"><div class="overlay"><div class="sled" style="right: 0px;"><div class="content"><ul><li><a href="https://kubernetes.io/docs/home/" class="active" id="">Documentation</a></li><li><a href="https://kubernetes.io/blog/" id="">Blog</a></li><li><a href="https://kubernetes.io/partners/" id="">Partners</a></li><li><a href="https://kubernetes.io/community/" id="">Community</a></li><li><a href="https://kubernetes.io/case-studies/" id="">Case Studies</a></li><li><a href="#" id="">
                    English <span class="ui-icon ui-icon-carat-1-s"></span>
                </a></li><li><a href="https://kubernetes.io/cn/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/" id="">Chinese</a></li><li><a href="#" id="">
                    v1.11 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a></li><li><a href="https://kubernetes.io/" id="">v1.11</a></li><li><a href="https://v1-10.docs.kubernetes.io/" id="">v1.10</a></li><li><a href="https://v1-9.docs.kubernetes.io/" id="">v1.9</a></li><li><a href="https://v1-8.docs.kubernetes.io/" id="">v1.8</a></li><li><a href="https://v1-7.docs.kubernetes.io/" id="">v1.7</a></li><li><a href="https://kubernetes.io/docs/tutorials/hello-minikube/" id="">Get Started</a></li><li><a href="https://kubernetes.io/docs/home/" id="">Documentation</a></li><li><a href="https://kubernetes.io/docs/community/" id="">Community</a></li><li><a href="https://kubernetes.io/blog/" id="">Blog</a></li><li><a href="https://twitter.com/kubernetesio" class="twitter" id=""><span>Twitter</span></a></li><li><a href="https://github.com/kubernetes/kubernetes" class="github" id=""><span>GitHub</span></a></li><li><a href="http://slack.k8s.io/" class="slack" id=""><span>Slack Slack</span></a></li><li><a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow" id=""><span>Stack Overflow</span></a></li><li><a href="https://discuss.kubernetes.io/" class="mailing-list" id=""><span>Forum</span></a></li><li><a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar" id=""><span>Events Calendar</span></a></li></ul></div><button class="push-menu-close-button"></button></div></div></div></body></html>